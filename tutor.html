<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Blooming Â· Tutor Portal</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary: #1e8b4c;
            --primary-soft: #2ecc71;
            --primary-glow: rgba(46, 204, 113, 0.4);
            --accent: #fbbf24;
            --accent-glow: rgba(251, 191, 36, 0.5);
            --surface: rgba(255, 255, 255, 0.75);
            --surface-dark: rgba(17, 25, 40, 0.85);
            --text-light: #1e293b;
            --text-dark: #f1f5f9;
            --border-light: rgba(255, 255, 255, 0.5);
            --border-dark: rgba(255, 255, 255, 0.1);
            --shadow: 0 20px 40px -15px rgba(0, 20, 10, 0.2);
            --shadow-hover: 0 30px 50px -20px rgba(0, 40, 20, 0.3);
            --blur: 16px;
            --transition: all 0.25s cubic-bezier(0.2, 0, 0, 1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: url('https://res.cloudinary.com/dy2hxcyaf/image/upload/v1769020680/Gemini_Generated_Image_o5m8auo5m8auo5m8_hzzxks.png') center/cover fixed;
            min-height: 100vh;
            color: var(--text-light);
            position: relative;
            overflow-x: hidden;
        }

        body.dark {
            --surface: var(--surface-dark);
            --text-light: var(--text-dark);
            --border-light: var(--border-dark);
        }

        .glass-panel {
            background: var(--surface);
            backdrop-filter: blur(var(--blur)) saturate(180%);
            -webkit-backdrop-filter: blur(var(--blur)) saturate(180%);
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow);
            border-radius: 2rem;
            transition: var(--transition);
        }

        .stat-card {
            cursor: pointer;
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(8px);
            border: 1px solid var(--border-light);
            border-radius: 1.5rem;
            padding: 1.25rem;
            transition: var(--transition);
        }
        .stat-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.5);
            border-color: var(--primary);
        }
        .stat-icon {
            width: 48px; height: 48px;
            display: flex; align-items: center; justify-content: center;
            border-radius: 12px; color: white; font-size: 1.25rem;
        }

        .nav-pill-container {
            background: rgba(0,0,0,0.05);
            border-radius: 3rem; padding: 0.35rem; display: flex; gap: 0.25rem;
        }
        .nav-tab-modern {
            padding: 0.6rem 1.2rem; border-radius: 2rem;
            font-weight: 600; opacity: 0.7; transition: var(--transition);
            white-space: nowrap; border: none; background: transparent; cursor: pointer;
        }
        .nav-tab-modern.active {
            opacity: 1; background: white; color: var(--primary);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .modal-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.4);
            backdrop-filter: blur(4px); display: flex; align-items: center;
            justify-content: center; z-index: 2000; padding: 1rem;
        }
        .modal-content {
            background: white; border-radius: 2rem; width: 100%; max-width: 600px;
            max-height: 90vh; overflow-y: auto; padding: 2rem; position: relative;
        }
        body.dark .modal-content { background: #1e293b; color: white; }

        .calendar-view { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; overflow-x: auto; }
        .calendar-day { min-width: 120px; border: 1px solid rgba(0,0,0,0.1); border-radius: 1rem; padding: 0.5rem; background: rgba(255,255,255,0.4); }
        .calendar-day-header { font-weight: 800; font-size: 0.75rem; text-transform: uppercase; margin-bottom: 8px; text-align: center; }
        .calendar-event { background: white; border-radius: 0.5rem; padding: 0.5rem; margin-bottom: 4px; font-size: 0.7rem; border-left: 3px solid var(--primary); }

        .floating-btn {
            position: fixed; right: 20px; width: 56px; height: 56px; border-radius: 28px;
            background: var(--primary); color: white; display: flex; align-items: center;
            justify-content: center; font-size: 1.5rem; cursor: pointer; z-index: 1000;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2); transition: var(--transition);
        }
        .btn-msg { bottom: 90px; }
        .btn-inbox { bottom: 20px; }
        .unread-badge {
            position: absolute; top: -5px; right: -5px; background: #ef4444;
            color: white; border-radius: 50%; width: 20px; height: 20px;
            font-size: 10px; display: flex; align-items: center; justify-content: center;
            border: 2px solid white;
        }

        .text-gradient {
            background: linear-gradient(135deg, var(--primary), #0b5e2e);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .badge { padding: 0.25rem 0.75rem; border-radius: 1rem; font-size: 0.75rem; font-weight: 700; }
        .badge-warning { background: #fef3c7; color: #92400e; }
        .badge-success { background: #dcfce7; color: #166534; }
        .spinner {
            border: 3px solid rgba(0,0,0,0.1); border-top: 3px solid var(--primary);
            border-radius: 50%; width: 24px; height: 24px; animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .form-input { width: 100%; padding: 0.75rem 1rem; border-radius: 1rem; border: 1px solid rgba(0,0,0,0.1); margin-bottom: 1rem; background: white; }
        .btn-action { padding: 0.75rem 1.5rem; border-radius: 1rem; font-weight: 700; transition: var(--transition); cursor: pointer; border: none; }
        .btn-primary { background: var(--primary); color: white; }
    </style>
</head>
<body class="antialiased">

    <div class="min-h-screen p-4 md:p-8 flex justify-center items-start">
        <div class="glass-panel w-full max-w-7xl p-6 md:p-10">
            
            <header class="flex flex-col md:flex-row justify-between items-center gap-6 mb-10">
                <div class="flex items-center gap-4">
                    <img src="https://res.cloudinary.com/dy2hxcyaf/image/upload/v1757700806/newbhlogo_umwqzy.svg" alt="Logo" class="h-12 w-auto">
                    <div>
                        <h1 class="text-2xl md:text-3xl font-extrabold tracking-tight">
                            Welcome, <span class="text-gradient" id="tutorNameDisplay">Tutor</span>
                        </h1>
                        <p class="text-sm text-gray-500 font-medium" id="displayDate"></p>
                    </div>
                </div>
                <div class="flex gap-3">
                    <button id="modeToggle" class="w-10 h-10 rounded-full bg-white/40 flex items-center justify-center shadow-sm border-none cursor-pointer">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button id="logoutBtn" class="btn-action bg-red-500 text-white flex items-center gap-2">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </header>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-10">
                <div class="stat-card" onclick="window.showTotalStudentsDetail()">
                    <div class="flex items-center gap-4">
                        <div class="stat-icon bg-green-600"><i class="fas fa-users"></i></div>
                        <div>
                            <p class="text-xs text-gray-500 uppercase font-bold">Total Students</p>
                            <p class="text-2xl font-black" id="stat-total-students">0</p>
                        </div>
                    </div>
                </div>
                <div class="stat-card" onclick="window.showTodayClassesDetail()">
                    <div class="flex items-center gap-4">
                        <div class="stat-icon bg-amber-500"><i class="fas fa-calendar-check"></i></div>
                        <div>
                            <p class="text-xs text-gray-500 uppercase font-bold">Today's Classes</p>
                            <p class="text-2xl font-black" id="stat-today-classes">0</p>
                        </div>
                    </div>
                </div>
                <div class="stat-card" onclick="window.switchTab('academic')">
                    <div class="flex items-center gap-4">
                        <div class="stat-icon bg-blue-600"><i class="fas fa-clipboard-list"></i></div>
                        <div>
                            <p class="text-xs text-gray-500 uppercase font-bold">Grading Inbox</p>
                            <p class="text-2xl font-black" id="stat-pending-homework">0</p>
                        </div>
                    </div>
                </div>
                <div id="performance-widget" class="stat-card">
                    <div class="flex items-center gap-4">
                        <div class="stat-icon bg-pink-600"><i class="fas fa-trophy"></i></div>
                        <div>
                            <p class="text-xs text-gray-500 uppercase font-bold">Score</p>
                            <p class="text-2xl font-black" id="stat-score">0</p>
                        </div>
                    </div>
                </div>
            </div>

            <nav class="mb-8 overflow-x-auto hide-scrollbar">
                <div class="nav-pill-container">
                    <button onclick="window.switchTab('dashboard')" id="tab-dashboard" class="nav-tab-modern active"><i class="fas fa-th-large mr-2"></i>Dashboard</button>
                    <button onclick="window.switchTab('academic')" id="tab-academic" class="nav-tab-modern"><i class="fas fa-graduation-cap mr-2"></i>Academic</button>
                    <button onclick="window.switchTab('schedule')" id="tab-schedule" class="nav-tab-modern"><i class="fas fa-calendar-alt mr-2"></i>Schedule Management</button>
                    <button onclick="window.switchTab('students')" id="tab-students" class="nav-tab-modern"><i class="fas fa-user-friends mr-2"></i>Student Database</button>
                </div>
            </nav>

            <div id="main-content-area" class="min-h-[500px]">
                <div class="flex flex-col items-center justify-center py-20">
                    <div class="spinner mb-4"></div>
                    <p class="text-gray-500 font-bold">Initializing Portal...</p>
                </div>
            </div>

        </div>
    </div>

    <div id="msg-btn" class="floating-btn btn-msg" onclick="window.showNewMessageModal()">
        <i class="fas fa-paper-plane"></i>
    </div>
    <div id="inbox-btn" class="floating-btn btn-inbox" onclick="window.showInboxModal()">
        <i class="fas fa-envelope"></i>
        <div id="global-unread-count" class="unread-badge hidden">0</div>
    </div>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';
        import { getAuth, signInWithCustomToken, signInAnonymously, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';
        import { getFirestore, collection, doc, getDoc, getDocs, setDoc, updateDoc, addDoc, deleteDoc, onSnapshot, query, where, writeBatch, serverTimestamp } from 'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';

        // SAFETY: Fallback for __firebase_config if not defined in local environment
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : { apiKey: "" };
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-tutor-app';

        window.tutorData = null;
        window.allStudents = [];
        window.activeTab = 'dashboard';
        window.globalSettings = { isReportEnabled: false, isTutorAddEnabled: false };

        const getCol = (name) => collection(db, 'artifacts', appId, 'public', 'data', name);
        const getDocRef = (name, id) => doc(db, 'artifacts', appId, 'public', 'data', name, id);

        // EXPOSE FUNCTIONS TO WINDOW FOR HTML ONCLICK
        window.switchTab = (tabId) => {
            window.activeTab = tabId;
            document.querySelectorAll('.nav-tab-modern').forEach(t => t.classList.remove('active'));
            const activeBtn = document.getElementById(`tab-${tabId}`);
            if (activeBtn) activeBtn.classList.add('active');
            renderCurrentTab();
        };

        window.showTotalStudentsDetail = () => {
            const active = window.allStudents.filter(s => !['archived', 'graduated'].includes(s.status));
            let listHtml = active.map(s => `
                <div class="flex justify-between items-center p-3 border-b border-gray-100 last:border-0">
                    <div>
                        <p class="font-bold">${s.studentName}</p>
                        <p class="text-xs text-gray-500">${s.grade} â€¢ ${s.isTransitioning ? 'Transitioning' : 'Full'}</p>
                    </div>
                    <span class="badge badge-info">${s.status || 'Active'}</span>
                </div>
            `).join('') || '<p class="text-center text-gray-500">No students assigned.</p>';

            showModal('assigned-students-modal', `
                <h3 class="text-xl font-bold mb-4">My Roster</h3>
                <div class="space-y-1">${listHtml}</div>
            `);
        };

        window.showTodayClassesDetail = () => {
            const today = new Date().toLocaleDateString('en-US', { weekday: 'long' });
            const classes = [];
            window.allStudents.forEach(s => {
                if (s.schedule) {
                    s.schedule.forEach(slot => {
                        if (slot.day === today) classes.push({ name: s.studentName, start: slot.start, end: slot.end });
                    });
                }
            });
            classes.sort((a,b) => a.start.localeCompare(b.start));

            let html = classes.map(c => `
                <div class="p-3 bg-gray-50 rounded-xl flex justify-between items-center mb-2">
                    <p class="font-bold">${c.name}</p>
                    <p class="text-sm font-semibold text-blue-600">${formatTimeDisplay(c.start)} - ${formatTimeDisplay(c.end)}</p>
                </div>
            `).join('') || '<p class="text-center text-gray-500">No classes scheduled for today.</p>';

            showModal('today-classes-modal', `<h3 class="text-xl font-bold mb-4">Today's Schedule</h3>${html}`);
        };

        window.handleDailyTopicAction = async () => {
            const sid = document.getElementById('topic-student-select').value;
            if(!sid) return showCustomAlert("Select a student first");
            const student = window.allStudents.find(s => s.id === sid);
            showModal('topic-modal', `
                <h3 class="font-bold text-xl mb-4">Daily Topic: ${student.studentName}</h3>
                <textarea id="topic-content" class="form-input h-32" placeholder="e.g. Long Division..."></textarea>
                <button id="save-topic-btn" class="btn-action btn-primary w-full">Save Topic</button>
            `);
            document.getElementById('save-topic-btn').onclick = async () => {
                const topics = document.getElementById('topic-content').value;
                if(!topics) return;
                await addDoc(getCol('daily_topics'), {
                    studentId: sid, studentName: student.studentName, tutorEmail: window.tutorData.email,
                    topics, date: new Date().toISOString().split('T')[0], createdAt: serverTimestamp()
                });
                showCustomAlert("Topic saved!");
                document.getElementById('topic-modal').remove();
            };
        };

        window.handleAssignHomeworkAction = () => {
            const sid = document.getElementById('hw-student-select').value;
            if(!sid) return showCustomAlert("Select a student first");
            const student = window.allStudents.find(s => s.id === sid);
            showModal('hw-modal', `
                <h3 class="font-bold text-xl mb-4">Assign Homework: ${student.studentName}</h3>
                <input id="hw-title" class="form-input" placeholder="Title">
                <textarea id="hw-desc" class="form-input h-24" placeholder="Instructions..."></textarea>
                <input id="hw-due" type="date" class="form-input">
                <button id="assign-hw-confirm" class="btn-action btn-primary w-full">Post Assignment</button>
            `);
            document.getElementById('assign-hw-confirm').onclick = async () => {
                const title = document.getElementById('hw-title').value;
                const description = document.getElementById('hw-desc').value;
                const dueDate = document.getElementById('hw-due').value;
                if(!title || !dueDate) return;
                
                await addDoc(getCol('homework_assignments'), {
                    studentId: sid, studentName: student.studentName, tutorEmail: window.tutorData.email,
                    title, description, dueDate, assignedDate: serverTimestamp(), status: 'assigned'
                });
                showCustomAlert("Homework assigned!");
                document.getElementById('hw-modal').remove();
            };
        };

        window.showNewMessageModal = () => showCustomAlert("Messaging feature initialized. Waiting for parent data...", "info");
        window.showInboxModal = () => showCustomAlert("Opening Messaging Inbox...", "info");

        // APP LOGIC
        window.onload = async () => {
            document.getElementById('displayDate').innerText = new Date().toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
            
            try {
                if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                    await signInWithCustomToken(auth, __initial_auth_token);
                } else {
                    await signInAnonymously(auth);
                }
            } catch(e) { console.error("Auth failed", e); }

            onAuthStateChanged(auth, async (user) => {
                if (user) {
                    const tutorsCol = getCol('tutors');
                    const q = query(tutorsCol, where('email', '==', user.email || ''));
                    const snap = await getDocs(q);
                    
                    if (!snap.empty) {
                        window.tutorData = { id: snap.docs[0].id, ...snap.docs[0].data() };
                        document.getElementById('tutorNameDisplay').innerText = window.tutorData.name || 'Tutor';
                    } else {
                        window.tutorData = { id: user.uid, email: user.email, name: 'Guest Tutor' };
                    }
                    
                    listenToStudents();
                    window.switchTab('dashboard');
                }
            });
        };

        function listenToStudents() {
            const q = query(getCol('students'), where('tutorEmail', '==', window.tutorData.email));
            onSnapshot(q, (snap) => {
                window.allStudents = snap.docs.map(d => ({ id: d.id, ...d.data() }));
                updateStatCards();
                renderCurrentTab();
            });
        }

        function updateStatCards() {
            const activeStudents = window.allStudents.filter(s => !['archived', 'graduated'].includes(s.status));
            document.getElementById('stat-total-students').innerText = activeStudents.length;

            const today = new Date().toLocaleDateString('en-US', { weekday: 'long' });
            let todayCount = 0;
            activeStudents.forEach(s => {
                if (s.schedule) s.schedule.forEach(slot => { if (slot.day === today) todayCount++; });
            });
            document.getElementById('stat-today-classes').innerText = todayCount;
            document.getElementById('stat-score').innerText = window.tutorData.performanceScore || 0;
        }

        function renderCurrentTab() {
            const area = document.getElementById('main-content-area');
            if (!area) return;

            if (window.activeTab === 'dashboard') {
                area.innerHTML = `<div class="glass-panel p-6"><h3 class="font-black text-xl mb-4">ðŸ”” Grading Overview</h3><div id="grading-feed" class="space-y-4"><p class="text-gray-500">Scanning for student submissions...</p></div></div>`;
                loadGradingFeed();
            } else if (window.activeTab === 'academic') {
                area.innerHTML = `
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="space-y-6">
                            <div class="glass-panel p-6">
                                <h3 class="font-black text-xl mb-4 text-blue-700">Daily Topics</h3>
                                <select id="topic-student-select" class="form-input">
                                    <option value="">Choose Student...</option>
                                    ${window.allStudents.map(s => `<option value="${s.id}">${s.studentName}</option>`).join('')}
                                </select>
                                <button onclick="window.handleDailyTopicAction()" class="btn-action btn-primary w-full">Record Topic</button>
                            </div>
                            <div class="glass-panel p-6">
                                <h3 class="font-black text-xl mb-4 text-orange-600">Assign Homework</h3>
                                <select id="hw-student-select" class="form-input">
                                    <option value="">Choose Student...</option>
                                    ${window.allStudents.map(s => `<option value="${s.id}">${s.studentName}</option>`).join('')}
                                </select>
                                <button onclick="window.handleAssignHomeworkAction()" class="btn-action bg-orange-500 text-white w-full">Assign Homework</button>
                            </div>
                        </div>
                        <div class="glass-panel p-6">
                            <h3 class="font-black text-xl mb-6">Homework Inbox</h3>
                            <div id="homework-inbox-container" class="space-y-4">No submissions yet today.</div>
                        </div>
                    </div>
                `;
            } else if (window.activeTab === 'schedule') {
                area.innerHTML = `<div class="glass-panel p-6"><h3 class="font-black text-2xl mb-8">Weekly Calendar</h3><div id="calendar-grid" class="calendar-view"></div></div>`;
                renderCalendar();
            } else if (window.activeTab === 'students') {
                area.innerHTML = `
                    <div class="glass-panel p-6">
                        <h3 class="font-black text-xl mb-6">My Active Students</h3>
                        <table class="w-full text-left">
                            <thead><tr class="text-xs font-bold uppercase text-gray-400 border-b"><th class="py-3">Student</th><th>Status</th><th>Fee</th></tr></thead>
                            <tbody class="divide-y divide-gray-100">${window.allStudents.map(s => `<tr><td class="py-4"><p class="font-bold">${s.studentName}</p><p class="text-xs text-gray-400">${s.grade}</p></td><td><span class="badge ${s.summerBreak ? 'badge-warning' : 'badge-success'}">${s.summerBreak ? 'Break' : 'Active'}</span></td><td class="text-sm">â‚¦${(s.studentFee || 0).toLocaleString()}</td></tr>`).join('')}</tbody>
                        </table>
                    </div>`;
            }
        }

        async function loadGradingFeed() {
            const feed = document.getElementById('grading-feed');
            if (!feed) return;
            try {
                const resultsSnap = await getDocs(query(getCol('student_results'), where('tutorEmail', '==', window.tutorData.email)));
                if (resultsSnap.empty) feed.innerHTML = '<p class="text-gray-400">All caught up! No pending grading tasks.</p>';
            } catch (e) { feed.innerHTML = 'Error loading feed.'; }
        }

        function renderCalendar() {
            const grid = document.getElementById('calendar-grid');
            if (!grid) return;
            const days = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"];
            grid.innerHTML = days.map(day => {
                const dayClasses = [];
                window.allStudents.forEach(s => { if (s.schedule) s.schedule.forEach(slot => { if (slot.day === day) dayClasses.push({ ...slot, studentName: s.studentName }); }); });
                return `<div class="calendar-day"><div class="calendar-day-header">${day}</div><div class="space-y-2">${dayClasses.map(c => `<div class="calendar-event"><p class="font-bold truncate">${c.studentName}</p></div>`).join('')}</div></div>`;
            }).join('');
        }

        function formatTimeDisplay(time) {
            const [h, m] = time.split(':');
            const hh = parseInt(h);
            return `${hh % 12 || 12}:${m} ${hh >= 12 ? 'PM' : 'AM'}`;
        }

        function showModal(id, content) {
            const overlay = document.createElement('div');
            overlay.id = id;
            overlay.className = 'modal-overlay';
            overlay.innerHTML = `<div class="modal-content"><button onclick="document.getElementById('${id}').remove()" class="absolute top-4 right-4 text-gray-400 text-2xl cursor-pointer border-none bg-transparent">&times;</button>${content}</div>`;
            document.body.appendChild(overlay);
        }

        function showCustomAlert(msg, type='info') {
            const div = document.createElement('div');
            div.className = `fixed top-6 right-6 z-[3000] p-4 rounded-2xl shadow-xl flex items-center gap-3 bg-white text-gray-800 border-l-4 ${type==='error'?'border-red-500':'border-green-500'}`;
            div.innerHTML = `<i class="fas fa-info-circle"></i> <span>${msg}</span>`;
            document.body.appendChild(div);
            setTimeout(() => div.remove(), 3000);
        }

        document.getElementById('logoutBtn').onclick = () => signOut(auth).then(() => window.location.reload());
        document.getElementById('modeToggle').onclick = () => {
            document.body.classList.toggle('dark');
            const icon = document.querySelector('#modeToggle i');
            icon.classList.toggle('fa-moon');
            icon.classList.toggle('fa-sun');
        };

    </script>
</body>
</html>
