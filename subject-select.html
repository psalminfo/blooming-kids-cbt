<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Subject Selection | Blooming Kids House</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <style>
    .hidden { display: none; }
    .subject-btn { background-color: #4CAF50; color: white; padding: 1rem; border-radius: 8px; margin: 0.5rem; cursor: pointer; border: none; }
    .logout-btn { position: absolute; top: 1rem; right: 1rem; background-color: #f44336; color: white; padding: 0.5rem 1rem; border: none; border-radius: 6px; cursor: pointer; }
    .container { padding: 2rem; text-align: center; }
    .footer { position: fixed; bottom: 0; width: 100%; text-align: center; padding: 1rem 0; background: #f0f0f0; }
  </style>
</head>
<body>
  <div class="container">
    <button class="logout-btn" onclick="logout()">Logout</button>
    <h2>Select a Subject</h2>
    <div id="subjects"></div>
  </div>

  <div class="footer">POWERED BY <span style="color:#FFEB3B">POG</span></div>

  <!-- Firebase CDN -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyD1lJhsWMMs_qerLBSzk7wKhjLyI_11RJg",
      authDomain: "bloomingkidsassessment.firebaseapp.com",
      projectId: "bloomingkidsassessment",
      storageBucket: "bloomingkidsassessment.appspot.com",
      messagingSenderId: "238975054977",
      appId: "1:238975054977:web:87c70b4db044998a204980"
    };
    firebase.initializeApp(firebaseConfig);
  </script>
  <script>
    firebase.auth().onAuthStateChanged((user) => {
      if (!user) {
        window.location.href = 'login-student.html';
      } else {
        const userEmail = user.email;
        // Dummy subjects - replace with dynamic logic if needed
        const subjects = ['Math', 'ELA', 'Biology', 'Chemistry', 'Physics'];
        const subjectsDiv = document.getElementById('subjects');

        subjects.forEach(sub => {
          const btn = document.createElement('button');
          btn.className = 'subject-btn';
          btn.textContent = sub;
          btn.onclick = () => {
            window.location.href = `student.html?subject=${sub}`;
          };
          subjectsDiv.appendChild(btn);
        });
      }
    });

    function logout() {
      firebase.auth().signOut().then(() => {
        window.location.href = 'login-student.html';
      });
    }
  </script>
</body>
</html>
